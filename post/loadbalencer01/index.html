<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>
  
     로드밸런서란 무엇인가? | 
    IT 읽어주는 블로그
  
</title><meta name="description" content="어떤 시선으로 기술을 바라봐야 할까?"><meta name="author" content="HoYeong Kim">

<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/favicon-32x32.png " sizes="32x32" type="image/png">
<link rel="icon" href="/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0c344b">
<link rel="icon" href="/favicon.ico">




    
        
            <link rel="stylesheet" href="/dist/main.37ab3f61b95417873748.min.css">
        
    




<link rel="canonical" href="/post/loadbalencer01/"><meta property="og:title" content="로드밸런서란 무엇인가?" />
<meta property="og:description" content="로드밸런서를 이해하기 전에 로드 밸런싱의 개념을 잡자!
로드밸런싱( Load balancing)이란?  로드 밸런싱이란 한 서버의 부하(Load)를 막기 위해, 여러 서버에 접속을 분배하는 기능이다.
 하나의 서비스에 발생하는 트래픽이 많을 때 여러 대의 서버 노드로 트래픽을 분산처리해서 서버의 부하(Load)를 해결해주는 기능이다.
예를 들어
주문대에 사람들이 몰렸을 경우 점원이 한 명만 있다면 한명 앞으로 계속 줄을 서면서 그 한 명의 부하가 늘어날 수 있다.
  로드 밸런싱을 하게 된다면 여러명의 점원이 주문을 받게 되고 앞 쪽의 로드 밸런서는 들어오는 손님을 적절하게(알고리즘을 이용해서) 각 점원 앞으로 분배 시켜주는 역할을 하게 되는 것이다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/loadbalencer01/" />
<meta property="article:published_time" content="2020-05-04T16:24:18+09:00" />
<meta property="article:modified_time" content="2020-05-04T16:24:18+09:00" />
<meta itemprop="name" content="로드밸런서란 무엇인가?">
<meta itemprop="description" content="로드밸런서를 이해하기 전에 로드 밸런싱의 개념을 잡자!
로드밸런싱( Load balancing)이란?  로드 밸런싱이란 한 서버의 부하(Load)를 막기 위해, 여러 서버에 접속을 분배하는 기능이다.
 하나의 서비스에 발생하는 트래픽이 많을 때 여러 대의 서버 노드로 트래픽을 분산처리해서 서버의 부하(Load)를 해결해주는 기능이다.
예를 들어
주문대에 사람들이 몰렸을 경우 점원이 한 명만 있다면 한명 앞으로 계속 줄을 서면서 그 한 명의 부하가 늘어날 수 있다.
  로드 밸런싱을 하게 된다면 여러명의 점원이 주문을 받게 되고 앞 쪽의 로드 밸런서는 들어오는 손님을 적절하게(알고리즘을 이용해서) 각 점원 앞으로 분배 시켜주는 역할을 하게 되는 것이다.">
<meta itemprop="datePublished" content="2020-05-04T16:24:18&#43;09:00" />
<meta itemprop="dateModified" content="2020-05-04T16:24:18&#43;09:00" />
<meta itemprop="wordCount" content="463">



<meta itemprop="keywords" content="network,loadbalencer," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="로드밸런서란 무엇인가?"/>
<meta name="twitter:description" content="로드밸런서를 이해하기 전에 로드 밸런싱의 개념을 잡자!
로드밸런싱( Load balancing)이란?  로드 밸런싱이란 한 서버의 부하(Load)를 막기 위해, 여러 서버에 접속을 분배하는 기능이다.
 하나의 서비스에 발생하는 트래픽이 많을 때 여러 대의 서버 노드로 트래픽을 분산처리해서 서버의 부하(Load)를 해결해주는 기능이다.
예를 들어
주문대에 사람들이 몰렸을 경우 점원이 한 명만 있다면 한명 앞으로 계속 줄을 서면서 그 한 명의 부하가 늘어날 수 있다.
  로드 밸런싱을 하게 된다면 여러명의 점원이 주문을 받게 되고 앞 쪽의 로드 밸런서는 들어오는 손님을 적절하게(알고리즘을 이용해서) 각 점원 앞으로 분배 시켜주는 역할을 하게 되는 것이다."/>

</head>
<body>
    
<nav class="navbar navbar-expand-md navbar-light bg-light fixed-top shadow-sm" id="navbar-main-menu">
    <div class="container">
        <a class="navbar-brand font-weight-bold" href="/">IT 읽어주는 블로그</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="main-menu">
            <ul class="navbar-nav ml-auto">
                
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/post">Post</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/categories">Category</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/tags">Tag</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/about">About</a></li>
                
            
            </ul>
        </div>
    </div>
</nav>


    
<main class="content-page container pt-7 pb-5">
    
    <div class="row">
        <div class="col">
            <article>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="meta text-muted mb-3">
                            <p class="created text-muted text-uppercase font-weight-bold mb-1">May 4, 2020</p>
                            <span class="mr-2"><i class="fas fa-book-open mr-2"></i>463 words</span>
                            <span><i class="fas fa-clock mr-2"></i>3 mins read</span>
                        </div>

                        <h1>로드밸런서란 무엇인가?</h1>

                        <ul class="authors list-inline"></ul>
                    </div>
                </div><div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="content">
                            <p>로드밸런서를 이해하기 전에 로드 밸런싱의 개념을 잡자!</p>
<h3 id="로드밸런싱-load-balancing이란">로드밸런싱( Load balancing)이란?</h3>
<blockquote>
<p>로드 밸런싱이란 한 서버의 부하(Load)를 막기 위해, 여러 서버에 접속을 분배하는 기능이다.</p>
</blockquote>
<p>하나의 서비스에 발생하는 트래픽이 많을 때 여러 대의 서버 노드로 트래픽을 분산처리해서 서버의 부하(Load)를 해결해주는  기능이다.</p>
<p><strong>예를 들어</strong></p>
<p>주문대에 사람들이 몰렸을 경우 점원이 한 명만 있다면  한명 앞으로 계속 줄을 서면서 그  한 명의   부하가 늘어날  수 있다.</p>
<figure class="figure">
    <a href="/media/loadbalencer_img01.png" class="d-block" data-toggle="lightbox" data-gallery="post-gallery">
        <img src="/media/loadbalencer_img01.png"
             alt="loadbalencer_img01" width="100%" height="auto"class="figure-img img-fluid"
        /> 
    </a>
</figure>

<p>로드 밸런싱을 하게 된다면 여러명의 점원이 주문을 받게 되고 앞 쪽의  로드 밸런서는 들어오는 손님을 적절하게(알고리즘을 이용해서) 각 점원 앞으로 분배 시켜주는 역할을 하게 되는  것이다.</p>
<p><figure class="figure">
    <a href="/media/loadbalencer_img02.png" class="d-block" data-toggle="lightbox" data-gallery="post-gallery">
        <img src="/media/loadbalencer_img02.png"
             alt="loadbalencer_img02" width="100%" height="auto"class="figure-img img-fluid"
        /> 
    </a>
</figure>

이렇게 로드밸런서가 앞 단에서 뒤의 점원들(노드들)에게 적절하게 손님(트래픽)들을 분배 해주면 장점이 생긴다.</p>
<p>하나의 점원이 없어 지더라도 다른 점원이 주문을 받고있기 때문에 서비스에  문제가 없다.</p>
<p>또한 서비스 중에서도 중단 없이 점원 하나를 더 늘려서 대기열을 더 빠르게 처리할  수 있다.</p>
<p>이걸 로드밸런싱의 장점이라고 하면 아래와 같이 정리가 된다.</p>
<p><strong>로드밸런싱의 장점</strong></p>
<ul>
<li>하나의 노드가 다운 되더라도 다른 노드들이 동작하므로 서비스를 지속할 수 있다.</li>
<li>고가의 서버로 스펙을 올리지 않아도(Scale-up) 다수의 노드를 증설해 사용할 수 있다(Scale-out)</li>
<li>노드를 증설 할 시에도 서비스 중단  없이 증설이 가능하다.</li>
</ul>
<p><strong>스케쥴링 알고리즘</strong></p>
<p>로드밸런싱을 할 때 아래와 같은 스케쥴링 알고리즘에 따라 트래픽을 분배한다.</p>
<ul>
<li>Round-robin Algo. (순차방식)
<ul>
<li>패킷을 각 노드들에 순차적으로 분배하는 방식</li>
<li>다른 알고리즘에 비해 처리속도가 빠르지만 서버 노드가 모두 동일한 처리량을 가지고 있어야한다.</li>
</ul>
</li>
<li>Weighted round-robin Algo. (가중치 순차방식)
<ul>
<li>패킷을 각 노드들에 순차적으로 분배하지만 노드마다 가중치를 두어 처리량을 조절</li>
<li>가중치가 높은 서버에 더 높은 처리량을 준다.</li>
</ul>
</li>
<li>Least-Connetion Algo.
<ul>
<li>접속 수가 적은 서버를 선택해서 처리를 분배한다.</li>
<li>Connetion을 동적으로 카운팅한다. 동적으로 변하는 요청에 부하를 분산시킨다.</li>
<li>각 노드에 연결되어있는 Connetcion 수만을 단순하게  카운팅하여 Connetcion수가 적은 곳에 꽂아준다.</li>
</ul>
</li>
<li>Weight Least-Connetion Algo.
<ul>
<li>각 노드의 처리량을 고려해서 Connetcion 수를 조절해서 할당하는 알고리즘</li>
<li>Least-connetcion이 단순 connetion 카운팅을하는 거였다면 이 알고리즘은 connetcion수/처리가능한 connetion 의 퍼센트 치를 계산해 적절히 부하를 분산해준다.</li>
</ul>
</li>
</ul>
<p>등등등 여러 알고리즘이 존재</p>
<h3 id="로드밸런서load-balancer란">로드밸런서(Load balancer)란?</h3>
<p>로드밸런서란 로드밸런싱을 해주는 장비로 서비스 노드들 앞단에 붙어서 패킷을 노드들에 트래픽을 분배해주는 역할을 한다.</p>
<p><strong>로드밸런서 종류</strong></p>
<ul>
<li>
<p>L4 로드 밸런서
L4란 네트워크 레이어중에 Layer 4계증(Transport Layer) 을 뜻한다.<br>
주로 L4의 로드밸런서라 함은 스위치(Switch)장비를 말한다.<br>
IP와 Port기반으로 로드밸런싱을 한다.</p>
</li>
<li>
<p>L7 로드 밸런서<br>
L7 이란 네트워크 레이어 중에 Layer 7계층 (Application Layer)을 뜻한다.<br>
주로 http의 라우팅을 처리한다.<br>
동작  방식은 다음과 같다.</p>
</li>
</ul>
<p>- <strong>Persistence with Cookies</strong> : 주로 쿠키를 활용한 Connection Persistence 를 유지하며, 쿠키 정보를 분석한다. WAS 로 이루어지는 연결에 대해 해당 연결을 동일한 서버로 연결되게끔 해준다.</p>
<p>- <strong>Context Switching</strong> : 클라이언트가 요청한 리소스에 대해 Context 를 전환할 수 있다. 가령 Static 이미지 리소스 등에 대해 Load Balancer 가 확장명에 따른 분류로 Image Server 로 연결해줄 수 있다.</p>
<p>- <strong>Content Rewriting</strong> : 전달받은 Request 를 변환해서 재전송이 가능하다.</p>
<p>그 외에도 프록시 처리(X-forwarded-for) 및 보안 로직 처리 등도 이루어진다.</p>
<p><em><strong>추가적으로</strong></em></p>
<p>AWS에서는 ELB(Elastic Load balaner)라는 서비스로 로드밸런서 서비스를 제공한다.</p>
<p>AWS 로드밸런서의 종류는 ALB(Application Loadbalancer), NLB(Network Loadbalancer, CLB(Classic Laodbalancer)로 나뉜다.</p>
<p>L7 로드밸런서는 ALB이고</p>
<p>L4는 NLB이다.</p>
<p>CLB의 경우 L4/L7 이지만 예전 버젼의 많은 기능을 지원하지않는 서비스 이다.</p>
<p>AWS의 경우 http로 로드밸런싱을 하는 ALB의 사용을 권장한다.</p>
<p>출처: <a href="https://jins-dev.tistory.com/entry/L4-L7-%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1Load-Balancing-%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC">https://jins-dev.tistory.com/entry/L4-L7-로드밸런싱Load-Balancing-에-대하여</a></p>

                        </div>

                        <img src= "[]" style="width: 100%;" /><div class="tags my-3"><a class="badge badge-pill badge-light border mr-2" href="/tags/network">
                                    <i class="fas fa-tag mr-2"></i>network
                                </a><a class="badge badge-pill badge-light border mr-2" href="/tags/loadbalencer">
                                    <i class="fas fa-tag mr-2"></i>loadbalencer
                                </a></div><ul class="share nav my-3 justify-content-end">
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://twitter.com/intent/tweet?url=%2fpost%2floadbalencer01%2f&text=%eb%a1%9c%eb%93%9c%eb%b0%b8%eb%9f%b0%ec%84%9c%eb%9e%80%20%eb%ac%b4%ec%97%87%ec%9d%b8%ea%b0%80%3f">
              <i class="fa-fw fab fa-twitter"></i>
          </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.linkedin.com/shareArticle?url=%2fpost%2floadbalencer01%2f&title=%eb%a1%9c%eb%93%9c%eb%b0%b8%eb%9f%b0%ec%84%9c%eb%9e%80%20%eb%ac%b4%ec%97%87%ec%9d%b8%ea%b0%80%3f">
                <i class="fa-fw fab fa-linkedin-in"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.facebook.com/sharer.php?u=%2fpost%2floadbalencer01%2f&t=%eb%a1%9c%eb%93%9c%eb%b0%b8%eb%9f%b0%ec%84%9c%eb%9e%80%20%eb%ac%b4%ec%97%87%ec%9d%b8%ea%b0%80%3f">
                <i class="fa-fw fab fa-facebook-f"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://reddit.com/submit?url=%2fpost%2floadbalencer01%2f&title=%eb%a1%9c%eb%93%9c%eb%b0%b8%eb%9f%b0%ec%84%9c%eb%9e%80%20%eb%ac%b4%ec%97%87%ec%9d%b8%ea%b0%80%3f">
                <i class="fa-fw fab fa-reddit-alien"></i>
            </a>
        </li>
    </nav>
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "ho0kim" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                    </div>
                </div></article>
        </div>
    </div>

    
</main>


    <footer class="footer text-center bg-dark py-6">
    <div class="container">
        <div class="row">
            <div class="col">
                <ul class="list-inline">
                    <li class="list-inline-item"><a href="/index.xml" rel="alternate" type="application/rss+xml" class="icons d-block">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a></li><li class="list-inline-item">
                        <a href="mailto:hoyoung7413@gmail.com" class="icons d-block">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li><li class="list-inline-item">
                            <a href="https://github.com/ho0kim" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://www.linkedin.com/in/hoyeong-kim-4a1982157/" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                </ul>

                <p class="text-muted">
                    
                        Copyright © 2020, Hoyeong Kim
                    
                </p>

                <p class="text-muted">
                Powered by <a href="https://gohugo.io" target="_blank">Hugo</a> with <a href="https://github.com/puresyntax71/hugo-theme-chunky-poster" target="_blank">Chunky Poster</a>.
                </p>
            </div>
        </div>
    </div>
</footer>

    
    
        
            <script src="/dist/main.d608eadfe5ac0688902e.min.js"></script>
        
    








    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-165584257-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</body>
</html>
